---
import { ViewTransitions } from 'astro:transitions';
import NavBar from '@/components/shared/NavBar.astro';

import '../styles/global.css';

interface Props {
  title: string;
}

const isDashboard = Astro.url.pathname.startsWith('/dashboard');

const { title } = Astro.props;
---

<!doctype html>
<html lang='es' class='dark'>
  <head>
    <meta charset='UTF-8' />
    <meta name='viewport' content='width=device-width' />
    <link rel='icon' type='image/svg+xml' href='/favicon.svg' />
    <meta name='generator' content={Astro.generator} />
    <title>{title}</title>
    <ViewTransitions />
  </head>
  <body>
    {/* Background sofisticado con líneas diagonales */}
    <div class='fixed inset-0 -z-10'>
      {/* Gradiente base */}
      <div
        class='absolute inset-0 bg-gradient-to-br from-black via-gray-950 to-black'
      >
      </div>

      {/* Líneas diagonales sutiles */}
      <div class='absolute inset-0 opacity-20'>
        {/* Líneas principales */}
        <div
          class='absolute left-1/4 top-0 h-full w-px origin-top rotate-12 transform bg-gradient-to-b from-red-600/30 via-orange-500/20 to-transparent'
        >
        </div>
        <div
          class='absolute right-1/3 top-0 h-full w-px origin-top -rotate-12 transform bg-gradient-to-b from-orange-500/30 via-red-600/20 to-transparent'
        >
        </div>

        {/* Líneas secundarias más sutiles */}
        <div
          class='absolute left-1/3 top-0 h-full w-px origin-top rotate-6 transform bg-gradient-to-b from-white/10 via-transparent to-transparent'
        >
        </div>
        <div
          class='absolute right-1/4 top-0 h-full w-px origin-top -rotate-6 transform bg-gradient-to-b from-white/10 via-transparent to-transparent'
        >
        </div>

        {/* Líneas adicionales para más profundidad */}
        <div
          class='absolute left-0 top-1/4 h-px w-full origin-left rotate-12 transform bg-gradient-to-r from-transparent via-red-600/20 to-transparent'
        >
        </div>
        <div
          class='absolute bottom-1/4 right-0 h-px w-full origin-right -rotate-12 transform bg-gradient-to-l from-transparent via-orange-500/20 to-transparent'
        >
        </div>
      </div>

      {/* Efectos de profundidad */}
      <div class='absolute inset-0'>
        {/* Gradiente radial sutil */}
        <div
          class='absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-red-600/5 blur-3xl'
        >
        </div>
        <div
          class='absolute bottom-1/3 right-1/4 h-80 w-80 rounded-full bg-orange-500/5 blur-3xl'
        >
        </div>

        {/* Noise/textura muy sutil */}
        <div
          class='absolute inset-0 opacity-[0.02] mix-blend-overlay'
          style={{
            backgroundImage: `url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`,
          }}
        >
        </div>
      </div>
    </div>
    {!isDashboard && <NavBar />}
    <main
      class={isDashboard ? 'w-full overflow-x-hidden' : 'container m-auto px-4'}
    >
      <slot />
    </main>
  </body>
</html>

<style>
  html,
  body {
    margin: 0;
    color-scheme: dark;
    width: 100%;
    height: 100%;
    overflow-x: hidden;
  }
</style>
