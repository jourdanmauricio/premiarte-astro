---
import { Database } from '@/lib/db';
import Subtitle from '@/components/shared/Subtitle.astro';
import ProductsCard from '@/components/home/ProductsCard.astro';
import SecondaryButton from '@/components/shared/SecondaryButton';

const { featuredProducts } = Astro.props;

const products = await Database.getAllProducts({ featured: true });
---

<section class='section-container'>
  <div class='flex flex-col items-center gap-12 lg:gap-12'>
    <div class='text-center w-full'>
      <Subtitle subtitle={featuredProducts.title} />
      {
        featuredProducts.text && (
          <p class='my-8 text-center text-xl font-normal tracking-tight text-muted-foreground md:text-xl'>
            {featuredProducts.text || 'Productos destacados'}
          </p>
        )
      }

      <div class='flex flex-wrap justify-center gap-8 pt-24'>
        {
          products.map((product) => (
            <div class='img-appear group border border-orange-50/10 rounded-sm relative w-64 shadow-xl transition-all duration-300 hover:drop-shadow-3xl hover:shadow-orange-200/10'>
              <ProductsCard product={product} />
            </div>
          ))
        }
      </div>

      <div class='mt-20 text-center'>
        <SecondaryButton
          label={featuredProducts.buttonText || 'Ver Productos'}
          href={featuredProducts.buttonLink || '/categoria/productos'}
          className='px-8 py-6 text-lg font-semibold text-white min-w-40'
        />
      </div>
    </div>
  </div>
</section>
